<!DOCTYPE html>
<html lang="or">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рмжрм╛рми рм░рм╕рм┐рмж рмЬрнЗрмирнЗрм░рнЗрмЯрм░</title>

<style>
body{font-family:sans-serif;background:#fff3e0;padding:15px;}
h2{text-align:center;color:#d84315;}
input,button{width:100%;padding:10px;margin:6px 0;font-size:16px;}
.receipt{background:white;padding:15px;margin-top:15px;border:2px solid #ff6f00;display:none;}
.printbtn{background:#d50000;color:white;border:none;padding:10px;margin-top:10px;}
.success{display:none;color:green;font-weight:bold;text-align:center;margin-top:10px;}
@media print{button,input{display:none}.receipt{border:none}.success{display:none}}
</style>
</head>

<body>

<h2>ЁЯПЫя╕П рмЕрм▓рмгрнНрмбрм╛ рм╢рнНрм░рнА рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░<br>рмжрм╛рми рм░рм╕рм┐рмж</h2>

<input id="name" placeholder="рмжрм╛рмирмХрм╛рм░рнАрмЩрнНрмХ рмирм╛рмо">
<input id="mobile" placeholder="рморнЛрммрм╛рмЗрм▓рнН рмирморнНрммрм░">
<button onclick="pickContact()">ЁЯУЗ рмХрмирнНрмЯрм╛рмХрнНрмЯрм░рнБ рмирморнНрммрм░ рмирм┐рмЕрмирнНрмдрнБ</button>

<input id="amount" placeholder="рмжрм╛рми рм░рм╛рм╢рм┐">
<input id="date" type="date">
<input id="receiptno" placeholder="рм░рм╕рм┐рмж рмирморнНрммрм░">
<input id="purpose" placeholder="рмжрм╛рмирм░ рмЙрмжрнНрмжрнЗрм╢рнНрнЯ">

<button onclick="generate()">рм░рм╕рм┐рмж рмдрм┐рмЖрм░рм┐ рмХрм░рмирнНрмдрнБ</button>

<p id="successMsg" class="success">
тЬЕ рмжрм╛рми рм╕рмлрм│рмнрм╛рммрнЗ рмЧрнНрм░рм╣рмг рмХрм░рм╛рмЧрм▓рм╛ред
</p>

<div class="receipt" id="receipt">

<h3 style="text-align:center;">ЁЯЪй рмЕрм▓рмгрнНрмбрм╛ рм╢рнНрм░рнА рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░ ЁЯЪй</h3>
<p style="text-align:center;">рмкрнНрм░рмдрм┐рм╖рнНрмарм╛ рмЙрмдрнНрм╕рмм рмжрм╛рми рм░рм╕рм┐рмж</p>

<p>рм░рм╕рм┐рмж рмирморнНрммрм░: <span id="rno"></span></p>
<p>рмдрм╛рм░рм┐рмЦ: <span id="rdate"></span></p>
<p>рмжрм╛рмирмХрм╛рм░рнА: <span id="rname"></span></p>
<p>рморнЛрммрм╛рмЗрм▓рнН: <span id="rmobile"></span></p>
<p>рм░рм╛рм╢рм┐: тВ╣ <span id="ramount"></span></p>
<p>рмЙрмжрнНрмжрнЗрм╢рнНрнЯ: <span id="rpurpose"></span></p>

<br>
<p style="text-align:center;">ЁЯЩП рмЖрмкрмгрмЩрнНрмХ рм╕рм╣рмпрнЛрмЧ рмкрм╛рмЗрмБ рмзрмирнНрнЯрммрм╛рмж ЁЯЩП</p>

<p>рм╕рм╣рм┐: __________________</p>

<button class="printbtn" onclick="window.print()">Print / PDF</button>
<button class="printbtn" onclick="shareWhatsApp()">WhatsApp рм╢рнЗрнЯрм╛рм░</button>
<button class="printbtn" onclick="sendSMS()">SMS рмкрмарм╛рмирнНрмдрнБ</button>

</div>

<script>
function generate(){
document.getElementById("receipt").style.display="block";
document.getElementById("successMsg").style.display="block";

rname.innerText=name.value;
ramount.innerText=amount.value;
rdate.innerText=date.value;
rno.innerText=receiptno.value;
rpurpose.innerText=purpose.value;
rmobile.innerText=mobile.value;
}

async function pickContact(){
if('contacts'in navigator&&'select'in navigator.contacts){
const c=await navigator.contacts.select(['tel'],{multiple:false});
if(c.length>0) mobile.value=c[0].tel[0];
}else alert("Contact picker supported рмирнБрм╣рнЗрмБ");
}

function shareWhatsApp(){
var msg="рмЕрм▓рмгрнНрмбрм╛ рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░ рмжрм╛рми рм░рм╕рм┐рмж\n"+
"рм░рм╕рм┐рмж: "+receiptno.value+
"\nрмирм╛рмо: "+name.value+
"\nрм░рм╛рм╢рм┐: тВ╣"+amount.value+
"\nрмзрмирнНрнЯрммрм╛рмж ЁЯЩП";

window.open("https://wa.me/?text="+encodeURIComponent(msg));
}

function sendSMS(){
var msg="рмЕрм▓рмгрнНрмбрм╛ рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░: тВ╣"+amount.value+
" рмжрм╛рми рмЧрнНрм░рм╣рмг рмХрм░рм╛рмЧрм▓рм╛ред рм░рм╕рм┐рмж рмирмВ "+
receiptno.value+". рмзрмирнНрнЯрммрм╛рмжред";

window.location.href="sms:"+mobile.value+
"?body="+encodeURIComponent(msg);
}
</script>

</body>
</html>