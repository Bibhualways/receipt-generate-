<!DOCTYPE html>
<html lang="or">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рмжрм╛рми рм░рм╕рм┐рмж</title>

<style>
body{
font-family:sans-serif;
background:#fff3e0;
padding:15px;
}

h2{
text-align:center;
color:#d84315;
}

input,button{
width:100%;
padding:10px;
margin:6px 0;
font-size:16px;
}

.receipt{
background:white;
padding:18px;
margin-top:15px;
border:3px solid #ff6f00;
display:none;
border-radius:8px;
}

.receipt h3{
text-align:center;
color:#bf360c;
}

.printbtn{
background:#d50000;
color:white;
border:none;
padding:10px;
margin-top:10px;
}

.success{
display:none;
color:green;
font-weight:bold;
text-align:center;
}

@media print{
button,input{display:none}
.receipt{border:none}
.success{display:none}
}
</style>
</head>

<body>

<h2>ЁЯПЫя╕П рмЕрм▓рмгрнНрмбрм╛ рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░<br>рмжрм╛рми рм░рм╕рм┐рмж</h2>

<input id="name" placeholder="рмжрм╛рмдрм╛рмХрм╛рм░рнАрмЩрнНрмХ рмирм╛рмо">
<input id="mobile" placeholder="рморнЛрммрм╛рмЗрм▓рнН рмирморнНрммрм░">
<input id="amount" placeholder="рмжрм╛рми рм░рм╛рм╢рм┐">
<input id="purpose" placeholder="рмжрм╛рмирм░ рмЙрмжрнНрмжрнЗрм╢рнНрнЯ">

<button onclick="generate()">рм░рм╕рм┐рмж рмдрм┐рмЖрм░рм┐ рмХрм░рмирнНрмдрнБ</button>

<p id="successMsg" class="success">
тЬЕ рмжрм╛рми рм╕рмлрм│рмнрм╛рммрнЗ рмЧрнНрм░рм╣рмг рмХрм░рм╛рмЧрм▓рм╛
</p>

<div class="receipt" id="receipt">

<h3>ЁЯЪй рмЕрм▓рмгрнНрмбрм╛ рм╢рнНрм░рнА рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░ ЁЯЪй</h3>
<p style="text-align:center;">рмкрнНрм░рмдрм┐рм╖рнНрмарм╛ рмЙрмдрнНрм╕рмм рмжрм╛рми рм░рм╕рм┐рмж</p>

<p><b>рм░рм╕рм┐рмж рмирморнНрммрм░:</b> <span id="rno"></span></p>
<p><b>рмдрм╛рм░рм┐рмЦ:</b> <span id="rdate"></span></p>
<p><b>рмжрм╛рмдрм╛рмХрм╛рм░рнАрмЩрнНрмХ рмирм╛рмо:</b> <span id="rname"></span></p>
<p><b>рморнЛрммрм╛рмЗрм▓рнН:</b> <span id="rmobile"></span></p>
<p><b>рм░рм╛рм╢рм┐:</b> тВ╣ <span id="ramount"></span></p>
<p><b>рмЙрмжрнНрмжрнЗрм╢рнНрнЯ:</b> <span id="rpurpose"></span></p>

<br>

<p style="text-align:center;">
ЁЯЩП рмЖрмкрмгрмЩрнНрмХ рм╕рм╣рмпрнЛрмЧ рмкрм╛рмЗрмБ рмЕрмирнЗрмХ рмзрмирнНрнЯрммрм╛рмж ЁЯЩП
</p>

<p>рм╕рм╣рм┐: __________________</p>

<button class="printbtn" onclick="window.print()">Print / PDF</button>
<button class="printbtn" onclick="sendWhatsApp()">WhatsApp Share</button>
<button class="printbtn" onclick="shareReceipt()">Share</button>

</div>

<script>

/* Receipt counter */
var receiptCounter =
localStorage.getItem("receiptCounter") || 1;

function generate(){

var name=document.getElementById("name").value;
var amount=document.getElementById("amount").value;
var purpose=document.getElementById("purpose").value;
var mobile=document.getElementById("mobile").value;

/* Receipt number */
var receiptNo="AMM-"+String(receiptCounter).padStart(3,'0');
localStorage.setItem("receiptCounter", ++receiptCounter);

/* Current date */
var today=new Date();
var date=today.toLocaleDateString('or-IN');

document.getElementById("receipt").style.display="block";
document.getElementById("successMsg").style.display="block";

document.getElementById("rname").innerText=name;
document.getElementById("ramount").innerText=amount;
document.getElementById("rdate").innerText=date;
document.getElementById("rno").innerText=receiptNo;
document.getElementById("rpurpose").innerText=purpose;
document.getElementById("rmobile").innerText=mobile;
}

/* WhatsApp */
function sendWhatsApp(){
var number=document.getElementById("mobile").value;
var amount=document.getElementById("amount").value;
var name=document.getElementById("name").value;

var msg="ЁЯЪй рмЕрм▓рмгрнНрмбрм╛ рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░ ЁЯЪй\n"+
"рмжрм╛рмдрм╛: "+name+
"\nрм░рм╛рм╢рм┐: тВ╣"+amount+
"\nрмЖрмкрмгрмЩрнНрмХ рм╕рм╣рмпрнЛрмЧ рмкрм╛рмЗрмБ рмзрмирнНрнЯрммрм╛рмж ЁЯЩП";

window.open(
"https://wa.me/91"+number+
"?text="+encodeURIComponent(msg),
"_blank"
);
}

/* Share menu */
function shareReceipt(){
if(navigator.share){
navigator.share({
title:"рмжрм╛рми рм░рм╕рм┐рмж",
text:"рмЕрм▓рмгрнНрмбрм╛ рморм╣рм╛рммрнАрм░ рмормирнНрмжрм┐рм░ рмжрм╛рми рм░рм╕рм┐рмж"
});
}else{
alert("рм╕рнНрмХрнНрм░рм┐рмирм╕рмЯрнН рмирнЗрмЗ рм╢рнЗрнЯрм╛рм░ рмХрм░рмирнНрмдрнБ");
}
}

</script>

</body>
</html>